<!-- doc/src/sgml/release-2q13.sgml -->
<!-- See header comment in release.sgml about typical markup -->

 <sect1 id="release-2qpg-13.15r1.1.17">
  <title>2ndQuadrant Postgres 13.15r1.1.17</title>

  <formalpara>
  <title>Release date:</title>
  <para>2024-05-09</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_15 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.14r1.1.16">
  <title>2ndQuadrant Postgres 13.14r1.1.16</title>

  <formalpara>
  <title>Release date:</title>
  <para>2024-02-08</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_14 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.13r1.1.15">
  <title>2ndQuadrant Postgres 13.13r1.1.15</title>

  <formalpara>
  <title>Release date:</title>
  <para>2023-11-10</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_13 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.12r1.1.14">
  <title>2ndQuadrant Postgres 13.12r1.1.14</title>

  <formalpara>
  <title>Release date:</title>
  <para>2023-08-10</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_12 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.11r1.1.13">
  <title>2ndQuadrant Postgres 13.11r1.1.13</title>

  <formalpara>
  <title>Release date:</title>
  <para>2023-05-16</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_11 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.10r1.1.12">
  <title>2ndQuadrant Postgres 13.9r1.1.12</title>

  <formalpara>
  <title>Release date:</title>
  <para>2023-02-14</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_10 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.9r1.1.11">
  <title>2ndQuadrant Postgres 13.9r1.1.11</title>

  <formalpara>
  <title>Release date:</title>
  <para>2022-11-10</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_9 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.8r1.1.10">
  <title>2ndQuadrant Postgres 13.8r1.1.10</title>

  <formalpara>
  <title>Release date:</title>
  <para>2022-08-11</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_8 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.7r1.1.9">
  <title>2ndQuadrant Postgres 13.7r1.1.9</title>

  <formalpara>
  <title>Release date:</title>
  <para>2022-05-12</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_7 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.6r1.1.8">
  <title>2ndQuadrant Postgres 13.6r1.1.8</title>

  <formalpara>
  <title>Release date:</title>
  <para>2022-02-10</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_6 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.5r1.1.7">
  <title>2ndQuadrant Postgres 13.5r1.1.7</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-11-11</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_5 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.4r1.1.6">
  <title>2ndQuadrant Postgres 13.4r1.1.6</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-08-17</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_4 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.3r1.1.5">
  <title>2ndQuadrant Postgres 13.3r1.1.5</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-07-20</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Exclude LCR directory from base backup
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.3r1.1.4">
  <title>2ndQuadrant Postgres 13.3r1.1.4</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-05-18</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Merge the REL_13_3 tag of the community PostgreSQL code base. Includes
     security fixes.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.2r1.1.3">
  <title>2ndQuadrant Postgres 13.2r1.1.3</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-04-08</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Move most of CAMO/Eager code out of 2QPG, adapt to upstream.
    </para>
   </listitem>

   <listitem>
    <para>
     Improve synchronization between WAL decoder and sender for Single Decoder Worker.
    </para>
   </listitem>

   <listitem>
    <para>
     Fix crash in selective base backup.
    </para>
   </listitem>

   <listitem>
    <para>
     Fix psql and pg_dump to be compatible with community PostgreSQL.
    </para>
   </listitem>

   <listitem>
    <para>
     Lower minimum fill factor for heap tables to 1.
    </para>
   </listitem>
   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.2r1.1.2">
  <title>2ndQuadrant Postgres 13.2r1.1.2</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-02-23</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>

   <para>
    Also, all extensions need to be recompiled.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Rebase to the REL_13_2 tag of the community PostgreSQL code base. Includes security fixes.
    </para>
   </listitem>

   <listitem>
    <para>
     Change FUNC_MAX_ARGS to 250
    </para>
   </listitem>

   <listitem>
    <para>
     libpq: Remove PQsslpassword()
    </para>
   </listitem>
   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.1r1.1.2">
  <title>2ndQuadrant Postgres 13.1r1.1.2</title>

  <formalpara>
  <title>Release date:</title>
  <para>2021-01-19</para>
  </formalpara>

  <para>
   This release contains a variety of improvements over the previous release.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    This is a minor release and can be upgraded in place from previous
    2ndQuadrant Postgres 13 releases.  No additional migration tasks are
    needed.
   </para>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous <emphasis>community
    PostgreSQL</emphasis> release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Rebase to the REL_13_1 tag of the community PostgreSQL code base. Includes
     security fixes (CVE-2020-25694, CVE-2020-25695, CVE-2020-25696).
    </para>
   </listitem>

   <listitem>
    <para>
    Various commits/fixes to bring parity with 2QPG11 feature sets.
    This is a BETA release and contains various changes to bring about
    the same functionality as 2QPG11 vis-a-vis BDR and non-BDR features.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>

 <sect1 id="release-2qpg-13.0r1.1.1">
  <title>2ndQuadrant Postgres 13.0r1.1.1</title>

  <formalpara>
  <title>Release date:</title>
  <para>2020-11-05</para>
  </formalpara>

  <para>
   This is the first release in the r1.1.x series of releases. This release
   contains a variety of improvements over PostgreSQL 13.0. For more
   information about new features in the core 13.0 release, see
   <xref linkend="release-13"/>.
  </para>

  <sect2>
   <title>Migration</title>

   <para>
    A dump/restore using <xref linkend="app-pg-dumpall"/> is required for
    those wishing to migrate data from any previous community PostgreSQL
    release.
   </para>
  </sect2>

  <sect2>
   <title>Changes</title>

   <itemizedlist>

   <listitem>
    <para>
     Rebase to the REL_13_0 tag of the community PostgreSQL code base.
    </para>
   </listitem>

   <listitem>
    <para>
     Show a backtrace for PANIC messages by default even if guc is disabled
    </para>

    <para>
     Getting to know the stack trace for PANIC messages is handy for
     forensics. So show the backtrace for such messages regardless of if the
     pg2q.backtrace_on_internal_error configuration parameter is enabled or not.
    </para>
   </listitem>

   <listitem>
    <para>
    Provide a way to skip checking of NOT VALID constraints.
    </para>

    <para>
    While NOT VALID constraints are normally checked and enforced for new rows
    being inserted/updated into the database, we provide an optional facility to
    skip the checks. This is useful for apply workers which may choose to skip the
    check, either because the check is done on the origin or because the
    check is known to potentially produce an ERROR and user instead wants to rely
    on subsequent VALIDATE CONSTRAINT to catch violations.
    </para>
   </listitem>

   <listitem>
    <para>
    Add a table level option to control compression
    </para>

    <para>
    We now support a new table level option, compress_tuple_target, which can be
    set to decide when to trigger compression on a tuple. Prior to this, the
    toast_tuple_target (or the compile time default) was used to decide whether or
    not to compress a tuple. But this was detrimental when a tuple is large enough
    and has a good compression ratio, but not large enough to cross the toast
    threshold. We wouldn't compress such tuples, thus wasting a potentially good
    opportunity.
    </para>
   </listitem>

   <listitem>
    <para>
    COPY FREEZE: Check if all tuples in a given page of a given table are frozen
    and visible, without doing any extensive checks.
    </para>

    <para>
    We will typically do this when we are doing table insertions in
    TABLE_INSERT_FROZEN mode (e.g. COPY FREEZE). Since the relation is not
    visible to any other transactions when running in this mode, we usually
    expect the pages to contain only tuples with frozen-xmin and invalid-xmax.
    But in order to guard against the case when our own transaction may has
    inserted regular tuples, which are not marked frozen, in the table and for
    abundance of caution, we do this check additionally.
    </para>
   </listitem>

   <listitem>
    <para>
    Add 2ndQPostgres configuration parameters to limit max tuple size and max field size
    </para>

    <para>
    The new <literal>pg2q.max_tuple_size</literal> parameter restricts the maximum before-TOASTing size that
    may be written to a table. This is the total row width including the
    uncompressed width of all TOASTable VARLENA attributes.
    </para>

    <para>
    The new <literal>pg2q.max_tuple_field_size</literal> parameter restricts the maximum uncompressed
    size in bytes of any one VARLENA Datum that may be written to a table.
    </para>
   </listitem>

   </itemizedlist>
  </sect2>
 </sect1>
