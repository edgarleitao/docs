---
title: "Alteruser utility"
description: "How to use alteruser utility to alter an existing PostgreSQL role in your EDB Postgres Advanced Server's databases"
iconName: Tools
deepToC: true
---

## Overview

The `alteruser` utility modifies an existing PostgreSQL role in your EDB Postgres Advanced Server's databases. It is a wrapper around the SQL command ALTER ROLE and is in line with the `createuser` utility. By default, the `alteruser` utility sends the password to the server in plain text, allowing the server to use the password verify function of the assigned password profiles to verify the passwords. Additionally, it prompts for the old password if necessary. Refer to the help option for all the supported options to modify user credentials and privileges.


## Synopsis

```
alteruser [OPTION]... [ROLENAME] [CONNSTR]
```

## Options

Provide the options as command line arguments:

`-c N` or `--connection-limit=N`  

 Sets a maximum number of connections for an existing role.

`-d` or `--createdb`            

 An existing role will have CREATE DATABASE privilege and can create new databases.

`-D` or `--no-createdb`         

 An existing role will not have CREATE DATABASE privilege and cannot create databases.

`-i` or `--inherit`             

 An existing role will inherit privileges of roles it is a member of.

`-I` or `--no-inherit`          

 An existing role will not be allowed to inherit privileges.
  
`-l` or `--login`               
 
 An existing role will have LOGIN privilege and can login.

`-L` or `--no-login`            

 An existing role will not have LOGIN privilege and cannot login.
  
`-P` or `--pwprompt`            

 Assign a password to an existing role.
  
`-r` or `--createrole`          

 An existing role will have CREATEROLE privilege and can create, alter, drop, comment on, change the security label for other roles.
  
`-R` or `--no-createrole`       

 An existing role will not have CREATEROLE privilege and cannot create new roles.
  
`-s` or `--superuser`           

 An existing role will have SUPERUSER privileges.
  
`-S` or `--no-superuser`        

 An existing role will not have SUPERUSER privileges.
  
`-v` or `--valid-until=TIMESTAMP`
                            
 Sets a date and time after which the role's password is no longer valid.
  
`-V` or `--version`             

 Prints the `alteruser` version information and exit.
  
`--interactive`             

 Prompts for the missing role name and attributes if none is specified on the command line.
  
`--bypassrls`               

 An existing role will be allowed to bypass row-level security (RLS) policy.
  
`--no-bypassrls`            
 
 An existing role will not be allowed to bypass row-level security (RLS) policy.
  
`--replication`             

 An existing role will have the REPLICATION privilege and can initiate the replication.
  
`--no-replication`          
 
 An existing role will not have the REPLICATION privilege and cannot initiate replication.
  
`--account=MODE`            

 An existing role's account mode can be "LOCK", or "UNLOCK".
  
`--createdblink`            

 An existing role will have CREATE DATABASE LINK privilege and can create database link.
  
`--no-createdblink`         

 An existing role will not have CREATE DATABASE LINK privilege and cannot create database link.
  
`--createpublicdblink`      

 An existing role will have CREATE PUBLIC DATABASE LINK privilege and can create public database link
  
`--no-createpublicdblink`   

 An existing role will not have CREATE PUBLIC DATABASE LINK privilege and cannot create public database link.
  
`--droppublicdblink`        

 An existing role will have DROP PUBLIC DATABASE LINK privilege and can drop public database link.
  
`--no-droppublicdblink`     

 An existing role will not have DROP PUBLIC DATABASE LINK privilege and cannot drop public database link.
  
`--encrypt-password=METHOD`

 An existing role will have selected encryption method for password. Encryption method can be "scram-sha-256", "md5", "server_encryption" or "plain" (default).

`--exemptaccesspolicy`      

 An existing role can exempt from access control (DBMS_RLS) policies.
  
`--no-exemptaccesspolicy`   

 An existing role cannot exempt from access control (DBMS_RLS) policies.
  
`--lock-time=TIMESTAMP`     

 An existing role's lock time.
  
`--passwordexpireat[=TIMESTAMP]`
                            
 An existing role's password expiration time.
  
--passwordsetat=TIMESTAMP
                            
 An existing role's password setting time.
  
`--profile=NAME`            

 An existing role will be assigned the given profile.
  
`--rename=ROLENAME`         

 An existing role will be renamed to new name.
  
`-?` or `--help`                

 Show help about `alteruser` command line arguments, and exit.


## Connection options

Provide the connection options to connect to a specific cluster and database where a role is residing:

`-h` or `--host=HOSTNAME`       
 
 Database server host or socket directory.

`-p` or `--port=PORT`           

 Database server port number.

`-U` or `--username=USERNAME`   

 User name to connect as (not the one to alter).

`-w` or `--no-password`         

 Never prompt for password.

`-W` or `--password`            

 Force password prompt.
  
`--dbname=DBNAME`           

 Database to connect.

## Examples

This example shows how to alter an existing role on a localhost server running on port 5444:

```
./alteruser -h localhost -p 5444 -S -D -R  joe
```

This example shows how to alter an existing role on the default database server in interactive mode:

```
./alteruser --interactive joe
__OUTPUT__
Shall the role be a superuser? (y/n) n
Shall the role be allowed to create databases? (y/n) n
Shall the role be allowed to create more new roles? (y/n) n
```