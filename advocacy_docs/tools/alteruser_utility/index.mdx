---
title: "Alteruser utility"
description: "How to use alteruser utility to alter an existing PostgreSQL role in your EDB Postgres Advanced Server's databases"
iconName: Tools
deepToC: true
---

## Overview

The `alteruser` utility modifies an existing PostgreSQL role in your EDB Postgres Advanced Server's clusters. It is a wrapper around the SQL command ALTER ROLE and is in line with the `createuser` utility. By default, the `alteruser` utility sends the password to the server in plain text, allowing the server to use the password verify function of the assigned password profiles to verify the passwords. Additionally, it prompts for the old password if necessary. Refer to the help option for all the supported options to modify user credentials and privileges.


## Synopsis

```
alteruser [OPTION]... [ROLENAME] [CONNSTR]
```

## Options

Provide the options as command line arguments:

`-c N` or `--connection-limit=N`  

 Sets a maximum number of connections for an existing role.

`-d` or `--createdb`            

 Assigns CREATE DATABASE privilege to an existing role, so it can create new databases.

`-D` or `--no-createdb`         

 Removes CREATE DATABASE privilege from an existing role, so it can't create databases.

`-i` or `--inherit`             

 Assigns permission to an existing role to inherit privileges of roles it is a member of.

`-I` or `--no-inherit`          

 Removes permissions from an existing role to inherit privileges of roles it is a member of.
  
`-l` or `--login`               
 
 Assigns LOGIN privilege to an existing role, so it can login.

`-L` or `--no-login`            

 Removes LOGIN privilege from an existing role, so it can't login.
  
`-P` or `--pwprompt`            

 Assigns a password to an existing role.
  
`-r` or `--createrole`          

 Assigns CREATEROLE privilege to an existing role, so it can create, alter, drop, comment on, change the security label for other roles.
  
`-R` or `--no-createrole`       

 Removes CREATEROLE privilege from an existing role, so it can't create new roles.
  
`-s` or `--superuser`           

 Assigns SUPERUSER privilege to an existing role.
  
`-S` or `--no-superuser`        

 Removes SUPERUSER privileges from an existing role.
  
`-v` or `--valid-until=TIMESTAMP`
                            
 Sets a date and time after which the role's password is no longer valid.
  
`-V` or `--version`             

 Prints the `alteruser` version information and exit.
  
`--interactive`             

 Prompts for the missing role name and attributes if none is specified on the command line.
  
`--bypassrls`               

 Allows an existing role to bypass row-level security (RLS) policy.
  
`--no-bypassrls`            
 
 Disallows an existing role to bypass row-level security (RLS) policy.
  
`--replication`             

 Assigns REPLICATION privilege to an existing role, so it can initiate the replication.
  
`--no-replication`          
 
 Removes REPLICATION privilege from an existing role, so it can't initiate replication.
  
`--account=MODE`            

 Allows an existing role to change the account mode. The mode can be "LOCK", or "UNLOCK".
  
`--createdblink`            

 Assigns CREATE DATABASE LINK privilege to an eixsting role, so it can create database link.
  
`--no-createdblink`         

 Removes CREATE DATABASE LINK privilege from an existing role, so it can't create database link.
  
`--createpublicdblink`      

 Assigns CREATE PUBLIC DATABASE LINK privilege to an existing role, so it can create public database link.
  
`--no-createpublicdblink`   

 Removes CREATE PUBLIC DATABASE LINK privilege from an existing role, so it can't create public database link.
  
`--droppublicdblink`        

 Assigns DROP PUBLIC DATABASE LINK privilege to an existing role, so it can drop public database link.
  
`--no-droppublicdblink`     

 Removes DROP PUBLIC DATABASE LINK privilege from an existing role, so it can't drop public database link.
  
`--encrypt-password=METHOD`

 Assigns an encryption method for password. This option must be used along with `--pwprompt` option. Encryption method can be "scram-sha-256", "md5", "server_encryption" or "plain" (default). If "server_encryption" is selected, the password encrypts using server's `password_encryption` GUC value. If "plain" is selected, the password is not encrypted and is sent in the plain text.

`--exemptaccesspolicy`      

 Exempts an existing role from access control (DBMS_RLS) policies.
  
`--no-exemptaccesspolicy`   

 Doesn't exempt an existing role from access control (DBMS_RLS) policies.
  
`--lock-time=TIMESTAMP`     

 An existing role's lock time.
  
`--passwordexpireat[=TIMESTAMP]`
                            
 An existing role's password expiration time. If the timestamp value is not provided, the current timestamp will be taken for password expiration.
  
`--passwordsetat=TIMESTAMP`
                            
 An existing role's password setting time.
  
`--profile=NAME`            

 Assigns the profile to an existing role.
  
`--rename=ROLENAME`         

 Renames an existing role to new name. No other options can be used while using `--rename` option.
  
`-?` or `--help`                

 Show help about `alteruser` command line arguments, and exit.


## Connection options

Provide the connection options to connect to a specific cluster where a role is residing. This connection options overrides the parameters from the connection string.

`-h` or `--host=HOSTNAME`       
 
 Database server host or socket directory.

`-p` or `--port=PORT`           

 Database server port number.

`-U` or `--username=USERNAME`   

 User name to connect as (not the one to alter).

`-w` or `--no-password`         

 Never prompt for password.

`-W` or `--password`            

 Force password prompt.
  
`--dbname=DBNAME`           

 Database to connect.

## Examples

This example shows how to alter an existing role on a localhost server running on port 5444:

```
./alteruser -h localhost -p 5444 -S -D -R joe
```

This example shows how to alter an existing role on the default database server in interactive mode:

```
./alteruser --interactive joe
__OUTPUT__
Shall the role be a superuser? (y/n) n
Shall the role be allowed to create databases? (y/n) n
Shall the role be allowed to create more new roles? (y/n) n
```